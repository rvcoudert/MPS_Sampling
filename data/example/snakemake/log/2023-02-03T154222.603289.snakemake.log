Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                               count    min threads    max threads
------------------------------  -------  -------------  -------------
Linclust                              4              1              1
all                                   1              1              1
build_Linclustering_matrix            1              1              1
build_Lincombination_matrix           1              1              1
build_preconnected_components         1              1              1
check_integrity                       1              1              1
compute_MPS_clustering                1              1              1
compute_similarity_submatrices        1              1              1
gather_cascading_links                1              1              1
select_MPS_representatives            1              1              1
total                                13              1              1

Select jobs to execute...

[Fri Feb  3 15:42:23 2023]
rule Linclust:
    input: input/fasta/uL2/uL2.fasta
    output: output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL2/uL2.fasta_all_seqs.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL2/uL2.fasta_rep_seq.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL2/uL2.fasta_cluster.tsv
    jobid: 3
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, proteinFamily=uL2
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:24 2023]
Finished job 3.
1 of 13 steps (8%) done
Select jobs to execute...

[Fri Feb  3 15:42:24 2023]
rule Linclust:
    input: input/fasta/uL3/uL3.fasta
    output: output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL3/uL3.fasta_all_seqs.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL3/uL3.fasta_rep_seq.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL3/uL3.fasta_cluster.tsv
    jobid: 4
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, proteinFamily=uL3
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:25 2023]
Finished job 4.
2 of 13 steps (15%) done
Select jobs to execute...

[Fri Feb  3 15:42:25 2023]
rule Linclust:
    input: input/fasta/uL4/uL4.fasta
    output: output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL4/uL4.fasta_all_seqs.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL4/uL4.fasta_rep_seq.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL4/uL4.fasta_cluster.tsv
    jobid: 5
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, proteinFamily=uL4
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:27 2023]
Finished job 5.
3 of 13 steps (23%) done
Select jobs to execute...

[Fri Feb  3 15:42:27 2023]
rule check_integrity:
    input: input/fasta/uL1/uL1.fasta, input/fasta/uL2/uL2.fasta, input/fasta/uL3/uL3.fasta, input/fasta/uL4/uL4.fasta, input/genome_index.csv
    output: output/0.input_stats/input_stats.csv
    jobid: 1
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:30 2023]
Finished job 1.
4 of 13 steps (31%) done
Select jobs to execute...

[Fri Feb  3 15:42:30 2023]
rule Linclust:
    input: input/fasta/uL1/uL1.fasta
    output: output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL1/uL1.fasta_all_seqs.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL1/uL1.fasta_rep_seq.fasta, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL1/uL1.fasta_cluster.tsv
    jobid: 2
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, proteinFamily=uL1
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:31 2023]
Finished job 2.
5 of 13 steps (38%) done
Select jobs to execute...

[Fri Feb  3 15:42:31 2023]
rule build_Linclustering_matrix:
    input: output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL1/uL1.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL2/uL2.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL3/uL3.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL4/uL4.fasta_cluster.tsv
    output: output/2_1.2_2.Linclustering_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Linclustering_matrix.csv
    jobid: 6
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:32 2023]
Finished job 6.
6 of 13 steps (46%) done
Select jobs to execute...

[Fri Feb  3 15:42:32 2023]
rule build_Lincombination_matrix:
    input: output/2_1.2_2.Linclustering_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Linclustering_matrix.csv
    output: output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Lincombination_matrix.csv, output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/gen_Lincomb_links.csv
    jobid: 7
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:33 2023]
Finished job 7.
7 of 13 steps (54%) done
Select jobs to execute...

[Fri Feb  3 15:42:33 2023]
rule build_preconnected_components:
    input: output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Lincombination_matrix.csv
    output: output/3.preconnection/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/Lincomb_precomp_links.csv
    jobid: 8
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, min_nb_Lincluster=2
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:33 2023]
Finished job 8.
8 of 13 steps (62%) done
Select jobs to execute...

[Fri Feb  3 15:42:33 2023]
rule compute_similarity_submatrices:
    input: output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Lincombination_matrix.csv, output/3.preconnection/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/Lincomb_precomp_links.csv
    output: output/4_1.similarity_submatrices/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/list_similarity_submatrices.csv
    jobid: 9
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, min_nb_Lincluster=2
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:35 2023]
Finished job 9.
9 of 13 steps (69%) done
Select jobs to execute...

[Fri Feb  3 15:42:35 2023]
rule compute_MPS_clustering:
    input: output/3.preconnection/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/Lincomb_precomp_links.csv, output/4_1.similarity_submatrices/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/list_similarity_submatrices.csv
    output: output/4_2.MPS_clusters/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/Lincomb_MPS_cluster_links.csv
    jobid: 10
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, min_nb_Lincluster=2, delta=0.5
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:36 2023]
Finished job 10.
10 of 13 steps (77%) done
Select jobs to execute...

[Fri Feb  3 15:42:36 2023]
rule gather_cascading_links:
    input: output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/gen_Lincomb_links.csv, output/3.preconnection/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/Lincomb_precomp_links.csv, output/4_2.MPS_clusters/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/Lincomb_MPS_cluster_links.csv
    output: output/4_3.genome_cascading_links/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/genome_cascading_links.csv
    jobid: 11
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, min_nb_Lincluster=2, delta=0.5
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:36 2023]
Finished job 11.
11 of 13 steps (85%) done
Select jobs to execute...

[Fri Feb  3 15:42:36 2023]
rule select_MPS_representatives:
    input: input/genome_index.csv, output/4_3.genome_cascading_links/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/genome_cascading_links.csv, output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Lincombination_matrix.csv
    output: output/4.MPS_results_directory/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/MPS_representatives.csv, output/4.MPS_results_directory/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/MPS_links.csv
    jobid: 12
    wildcards: e_value=1e-05, cov_mode=0, min_cov=0.8, min_seq_id=0.6, min_nb_Lincluster=2, delta=0.5
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:37 2023]
Finished job 12.
12 of 13 steps (92%) done
Select jobs to execute...

[Fri Feb  3 15:42:37 2023]
localrule all:
    input: output/0.input_stats/input_stats.csv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL1/uL1.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL2/uL2.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL3/uL3.fasta_cluster.tsv, output/1.Linclust/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/uL4/uL4.fasta_cluster.tsv, output/2_1.2_2.Linclustering_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Linclustering_matrix.csv, output/2_3.Lincombination_matrix/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6/Lincombination_matrix.csv, output/3.preconnection/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/Lincomb_precomp_links.csv, output/4_1.similarity_submatrices/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2/list_similarity_submatrices.csv, output/4_2.MPS_clusters/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/Lincomb_MPS_cluster_links.csv, output/4_3.genome_cascading_links/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/genome_cascading_links.csv, output/4.MPS_results_directory/e_value_1e-05_cov_mode_0_min_cov_0.8_min_seq_id_0.6_min_nb_Linclusters_2_delta_0.5/MPS_representatives.csv
    jobid: 0
    resources: tmpdir=/tmp

[Fri Feb  3 15:42:37 2023]
Finished job 0.
13 of 13 steps (100%) done
Complete log: /zfs/RVC/RUN/MPS-sampling/article/.snakemake/log/2023-02-03T154222.603289.snakemake.log
